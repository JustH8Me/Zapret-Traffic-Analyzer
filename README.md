# Game Traffic Analyzer for Zapret

Простая утилита для поиска IP-адресов и доменов, к которым обращаются игры (Apex Legends, ARC Raiders и др.) или программы (Discord). 

Помогает быстро собрать актуальные списки для **Zapret**, когда игра работает, но не грузится чат, лобби или не заходит в матч.


<img width="586" height="393" alt="изображение" src="https://github.com/user-attachments/assets/aa6c9c91-6ae3-4ee2-93d0-3a6e64aa8881" />

### Что делает:
* **Ловит трафик по процессам:** видит не только саму игру, но и сопутствующие службы (Steam, античиты, лаунчеры).
* **Сортирует по типам:** сам раскидывает адреса в `domains.txt`, `ips-tcp.txt` (лобби/вход) и `ips-udp.txt` (голос/матч).
* **Группирует в подсети:** превращает одиночные IP в формат `x.x.x.0/24`, чтобы не добавлять каждый адрес по отдельности.
* **Проверяет доступность:** показывает, какие сервера доступны, а на каких висит «тайм-аут» (возможная блокировка).

### Как пользоваться:
1. Запусти программу **от админа**.
2. Напиши название процесса (например, `r5apex.exe`).
3. Нажми **СТАРТ**, зайди в игру и поиграй пару минут (чтобы прошел обмен данными в чате и матче) и если хотите - нажмите **ДОМЕНА** чтобы програма попыталась найти домена.
4. Нажми **СТОП** и **СОХРАНИТЬ** (пкм можно выбрать что именно сохранить).
5. Забирай готовые списки из папки `zapret-lists` и вставляй их в свой батник Zapret.

### Известные проблемы:
* **Ложные блокировки:** Если сервер сам оборвал соединение или у него закрыты порты для проверки, программа напишет «БЛОК», даже если адрес не заблокирован РКН.
* **Права доступа:** Без запуска от имени администратора трафик отображаться не будет.
* **Зависшие сессии:** Если программа закрылась некорректно и выдает ошибку ресурсов (0x800705AA), нужно перезагрузить компьютер, чтобы очистить системные логгеры.
* **UDP проверка:** Статус UDP-серверов проверяется через Ping, поэтому если сервер игнорирует пинги, он всегда будет «красным».

### Требования:
* Windows 10/11.
* Запуск от имени администратора (нужно для доступа к статистике сети).
* .NET 8.0.
